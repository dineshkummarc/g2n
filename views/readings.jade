script(src="http://code.highcharts.com/highcharts.js", type="text/javascript")
script(src="http://code.highcharts.com/modules/exporting.js", type="text/javascript")
script(src="http://www.highcharts.com/highslide/highslide-full.min.js", type="text/javascript")
script(src="http://www.highcharts.com/highslide/highslide.config.js", type="text/javascript")
link(rel="stylesheet", type="text/css", href="http://www.highcharts.com/highslide/highslide.css")

div.page-header
  h1.header= header
div.row
  table.table.table-striped
    thead
      tr
        th Timestamp
        th kW
    each reading in readings
      tr
        td= reading.timestamp
        td= reading.kW
        
div(id="graphArea", style="min-width: 400px; height: 400px; margin: 0 auto;")

script
  $(document).ready(function() {
    var chart = new Highcharts.Chart({
      chart: {
        renderTo: 'graphArea',
        type: 'line'
      },
      title: {
        text: 'Meter Readings'
      },
      xAxis: {
        categories: [ #{timestamps} ]
      },
      yAxis: {
          title: {
            text: 'kW'
          }
      },
      series: [{
          data: [ #{kWs} ]
        }]
    });
  });
